<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>STELLA - FROGS Tracker</title>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <img src="UWLogoTP.png" alt="UW Logo" class="logo" />
    <h1>STELLA Contact Tracker</h1>
  </header>

  <main>
    <nav>
      <button onclick="showTab('dashboard')">Dashboard</button>
      <button onclick="showTab('add')">Add Contact</button>
      <button onclick="showTab('view')">View Contacts</button>
      <button onclick="showTab('import')">Import CSV</button>
      <button onclick="showTab('outreach')">Outreach</button>
    </nav>

    <section id="dashboard" class="tab">
      <h2>Dashboard</h2>
      <p>Total Contacts: <span id="totalContacts">0</span></p>
      <div id="stats"></div>
      <div id="fastStartProgress"></div>
    </section>

    <section id="add" class="tab" style="display:none">
      <h2>Add a Contact</h2>
      <form id="contactForm">
        <input id="name" placeholder="Name" required /><br />
        <select id="category">
          <option>Friends & Family</option>
          <option>Recreation</option>
          <option>Occupation</option>
          <option>Geographic</option>
          <option>Same Name</option>
        </select><br />
        <textarea id="notes" placeholder="Notes"></textarea><br />
        <button type="submit">Add Contact</button>
      </form>
    </section>

    <section id="view" class="tab" style="display:none">
      <h2>Contact List</h2>
      <ul id="contact-list"></ul>
    </section>

    <section id="import" class="tab" style="display:none">
      <h2>Import CSV</h2>
      <input type="file" id="csvFileInput" /><br />
      <button onclick="importCSV()">Import Contacts</button>
    </section>

    <section id="outreach" class="tab" style="display:none">
      <h2>Outreach Log</h2>
      <div id="outreachContent"></div>
      <!-- AI Suggested Message Box -->
      <div id="aiMessageBox" style="margin-top:1em; display:none;">
        <strong>Suggested Message:</strong>
        <div id="aiMessageContent" style="white-space:pre-wrap; background:#f5f5f5; padding:10px; border-radius:6px; margin-top:5px;"></div>
        <button id="copyAIMessageBtn" style="margin-top: 10px;">ðŸ“‹ Copy Message</button>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
  <script src="import.js"></script>
  <script src="ai.js"></script>
  <script>
    function showTab(tabId) {
      document.querySelectorAll('.tab').forEach(tab => tab.style.display = 'none');
      document.getElementById(tabId).style.display = 'block';
      if (tabId === 'dashboard') {
        updateTotalContactsCount();
        renderStatsSummary();
        renderFastStartWidget();
      }
      if (tabId === 'view') {
        renderContacts();
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      showTab('dashboard');
    });
  </script>
</body>
</html>
